# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [MVP-v2] - 2024-07-07

### Added

- Addressing instruction in multiple object files
- Add `ecall` instruction
- Add read ecall
- Add events and input
- Add tests for `add`
- Add tests for `sub`
- Add testing and building pipeline
- Add instructions sll srl
- Add xori instruction 
- Add andi, ori, slli, srli instructions
- Add new instruction to the preset
- Add `sra` and `srai` instructions
- Add tests for basic instruction

### Changed

- Improve exception info
- Move example into a file
- Install Maven
- Set pull policy for Docker
- Revert pull policy changes 
- Setup image tools manually

### Fixed

- Negative jump and J-instruction decoding
- Reset registers (pc and sp) on run
- Fix printing in the example
- Fix grammar error in naming
- Fix manifest version in pom.xml
- Fix error in xori instruction
- Fix srl and srli instructions
- Truncate immediate in shifts; disable `srai`

### Removed

- Remove ILinkableInstruction interface from some instructions

## [MVP-v1] - 2024-06-30

### Added

- Add memory module
- Add RISC-V instruction hierarchy
- Add `addi` and an example
- Add data section parsing
- Add object file and linker interfaces
- Add linker
- Add `jal` instruction
- Add `add` instruction
- Add `sub` instruction
- Add `mul` instruction
- Add `div` instruction
- Add `xor` instruction
- Add `and` instruction
- Add a preset of a Simulator32 and an example
- Add helper methods for parsers
- Add export
- Add `li`, `la`, `mv`; add request for linking two subsequent instructions
- Add reset method for a simulator

### Changed

- Modify .gitignore
- Load program into the memory and decode it during the run
- Create package for RISC-V instructions
- Return the number of consumed bytes in a decoder
- Rename exception
- Make RISC-V instruction fields protected and `imm` not final
- Create symbol and relocation tables, parsing labels
- Changing libs names
- Attach registers and memory to instruction handlers at registration moment
- Simplify instruction handler
- Register new instructions
- Rename linker parts
- Make zero register read-only
- Move to rarsreborn.core root package
- Small improvements
- Replace tabs with spaces when compile

### Fixed

- Jal tried to use erased label name for error
- Ignore linkable instruction that has no LinkRequest
- Relative addressing
- $pc change and relative linking for pseudo instruction

### Removed

- Remove format parameter from decoder register instruction methods

## [MVP-v0] - 2024-06-23

### Added

- Add LICENCE
- Add .gitignore
- Add issue template for user stories
- Add template for a user story issue with acceptance criteria
- Add script for random selection of code reviewer

### Changed

- Improve .gitlab-ci.yml reviewer script
- Architecture and skeleton
- Rename dir riscv -> assembler
- Rename dir assembler -> core

### Fixed

- Fix selection script
- Fix .gitlab-ci.yml
- Fix .gitlab-ci.yml

[MVP-v2]: https://github.com/swapik/rars-reborn-core/compare/MVP-v1..MVP-v2
[MVP-v1]: https://github.com/swapik/rars-reborn-core/compare/MVP-v0..MVP-v1

<!-- generated by git-cliff -->
